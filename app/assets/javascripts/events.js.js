// Generated by CoffeeScript 1.4.0
var app;

app = angular.module("Calendar", ["ngResource"], function($routeProvider, $locationProvider) {
  var month;
  month = moment().format('M');
  return $routeProvider.when('/calendar/:month', {
    controller: MonthCalendarController,
    templateUrl: '/calendar/month/template'
  }).when('/calendar/:day/event/new', {
    controller: MonthCalendarController,
    templateUrl: '/event/new'
  }).otherwise({
    redirectTo: "/calendar/" + (moment().format('M'))
  });
});

app.factory("eventService", function($resource) {
  var events;
  events = [];
  return {
    load: function() {
      return console.log("Load events from server");
    },
    "delete": function(id) {
      return console.log("Delete Event");
    },
    save: function(event) {
      return console.log("Event");
    }
  };
});

this.MonthCalendarController = (function() {

  function MonthCalendarController($scope, eventService, $routeParams, $location) {
    $scope.loadEvents = function() {
      return $scope.events = [
        {
          "01/01/2013": {
            title: "Meeting"
          },
          "02/01/2013": {
            title: "ix"
          }
        }
      ];
    };
  }

  $scope.newEvent = function(day) {
    return $location.path("/event/new");
  };

  return MonthCalendarController;

})();
